# yaml-language-server: $schema=../../../src/config/schema.json#/definitions/ComponentConfig
#
# API Component Configuration
#
description: REST API service for the tutorial

resources:
  image:
    type: docker/image
    params:
      target: development

tasks:
  test:
    description: Run API tests
    script: |
      npm test

  health:
    description: Check API health
    executors:
      - local
    script: |
      echo "Checking API health..."
      curl -s http://localhost:3000 || echo "API not running"

flavors:
  production:
    patches:
      - op: replace
        path: /resources/image/params/target
        value: production
